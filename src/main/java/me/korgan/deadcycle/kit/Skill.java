package me.korgan.deadcycle.kit;

import org.bukkit.entity.Player;

/**
 * Интерфейс для системы скиллов китов.
 * Каждый скилл может быть активирован игроком и тратит опыт.
 */
public interface Skill {

    /**
     * Уникальный ID скилла (для сохранения, логирования, кулдаунов).
     */
    String getId();

    /**
     * Название скилла для отображения в UI.
     */
    String getDisplayName();

    /**
     * Стоимость скилла в опыте (XP).
     * Зависит от уровня скилла и параметров конфига.
     */
    int getXpCost(Player p);

    /**
     * Кулдаун скилла в миллисекундах.
     * Может зависеть от уровня игрока.
     * -1 = нет кулдауна.
     */
    long getCooldownMs(Player p);

    /**
     * Может ли игрок использовать скилл?
     * Проверяет опыт, кулдаун и другие условия.
     */
    boolean canUse(Player p);

    /**
     * Сообщение об ошибке, если скилл нельзя использовать.
     * Возвращает null, если скилл можно использовать.
     */
    String getErrorMessage(Player p);

    /**
     * Активировать скилл.
     * Предполагается, что проверка canUse() уже прошла.
     */
    void activate(Player p);

    /**
     * Вернуть скилл в исходное состояние (для перезагрузки конфига, смены кита).
     */
    void reset();
}
